@* Displays sale page *@
@import java.util
@(user: User, sale: Sale, items: util.List[SaleItem])

@loggedinmain("Sale") {

<link href="//fonts.googleapis.com/css?family=Corben:bold" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Nobile" rel="stylesheet" type="text/css">
<div class="container content">
    <div class="view sale" id="view-sale">
        <div class="row">
            <div class="col-sm-9 subnav">
                <div class = "subnav">
                @if(sale.status != 2 && user.canBeSeller(sale.id)) {<a href="/sale/@sale.id/addItem" class="subnav-a goldHighlight">
                    <span class="subnav-content">ADD ITEM</span></a>}
                @if(sale.status != 2 && user.canBeAdmin(sale.id)) {<a href="/sale/@sale.id/edit" class="subnav-a goldHighlight">EDIT SALE</a>}
                @if(sale.status == 1 && user.canBeCashier(sale.id)) {<a href="/createTransaction/@sale.id" class="subnav-a goldHighlight">CREATE TRANSACTION</a>}
                @if(sale.status != 2 && user.canBeClerk(sale.id)) {<a href="/sale/@sale.id/saleTag" class="subnav-a goldHighlight">PRINT TAGS</a>}
                @if(user.canBeBookkeeper(sale.id)) {<a href="/sale/@sale.id/financialReport" class="subnav-a goldHighlight">FINANCIAL REPORT</a>}
                @if(sale.status == 2 && user.canBeAdmin(sale.id)) {
                <form method="post" class="hidden-form">
                    <button class="btn btn-warning" type="submit" name="unarchive" value="@sale.id">UNARCHIVE SALE</button>
                </form>
                }
                </div>
            </div>
            <div class="col-sm-3 subnav">
                <div class="input-group">
                    <form class="form-search-field" action="/sale/@sale.id/searchItems" method="post">
                        <div class="input-group">
                            <input type="text" class="form-control" name="query" placeholder="Search Items...">
                        <span class="input-group-btn">
                            <button class="btn btn-default icon" type="submit"><i class="glyphicon glyphicon-search"></i></button>
                        </span>
                        </div><!-- /input-group -->
                    </form>
                </div>
            </div>
        </div>

            <div class = "tanBackground row bottomCorners">
                <h1 class="text-center title" id="saleName">@sale.name</h1>
                <div class="row">
                    <div class="col-sm-3" id="saleAddress">
                        <h3 class="text-center">Address</h3>
                        <h4 class = "text-center" id="saleAddress1">@sale.street</h4>
                        <h4 class = "text-center" id="saleAddress2">@sale.city, @sale.state @sale.zip</h4>
                    </div>
                    <div class="col-sm-4">
                        <h3 class="text-center">Description</h3>
                        <h4 class = "text-center" id="saleDescription">@sale.description</h4>
                    </div>
                    <div class="col-sm-2">
                        <h3 class="text-center">Created By</h3>
                        <h4 class = "text-center" id="saleCreatedBy" class="text-center"><a href="/profile/@sale.userCreatedId">@sale.getCreatedBy</a></h4>
                    </div>
                    <div class="col-sm-3">
                        <h3 class="text-center">Dates</h3>
                        <h4 class = "text-center" id="saleDates">@sale.formatStartDate - @sale.formatEndDate</h4>
                    </div>
                </div>
            </div>
            <h2 class="text-center">Items for Sale</h2>
            <hr>
            <div class="row">
                <div class="col-sm-2"></div>
                <div class="col-sm-8">
                            <div class="row">
                            @for(index <- 0 until items.size){
                                <div class="col-sm-4">
                                <h2><a href="/sale/@sale.id/item/@items(index).id">@items(index).name</a></h2>
                                <h4>@items(index).description</h4>
                                <h5>$@items(index).formatPrice (@items(index).quantity in stock)</h5>
                                </div>
                                @if(index != items.size - 1 && index % 3 == 2){</div><hr><div class="row">}
                            }
                            </div>
                </div>
            </div>

    </div>
</div>
<script>


</script>
}
